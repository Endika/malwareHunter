import sys
from PyQt4.QtCore import *
from PyQt4.QtGui import *
from PyQt4.QtWebKit import *
from controller.controller import *

class Window(QWebView):
    def __init__(self):
        QWebView.__init__(self)
        self.setWindowTitle('Welcome')
        self.setFixedSize(360, 460)
        screen = QDesktopWidget().screenGeometry()
        self.setGeometry((screen.width()-self.width())/2, (screen.height()-self.height())/2, self.width(), self.height())  
        self.load(QUrl('http://localhost:8080/login'))
"""
    @pyqtSlot(QPoint)   
    def ctxMenu(self, point):
        menu = QMenu()
        action1 = menu.addAction("Full screen")
        action2 = menu.addAction("Normal screen") 
        self.connect(action1, SIGNAL("triggered()"), self,SLOT("slotFull()"))
        self.connect(action2, SIGNAL("triggered()"), self,SLOT("slotNormal()"))
        menu.exec_(self.mapToGlobal(point))

    @pyqtSlot()
    def slotFull(self):
        screen = QDesktopWidget().screenGeometry()
        self.setFixedSize(screen.width(),screen.height())
        self.setGeometry((screen.width()-self.width())/2, (screen.height()-self.height())/2, self.width(), self.height())
        self.show()

    @pyqtSlot()
    def slotNormal(self):
        screen = QDesktopWidget().screenGeometry()
        self.setFixedSize(360,460)
        self.setGeometry((screen.width()-self.width())/2, (screen.height()-self.height())/2, self.width(), self.height())
        self.show()
"""

def main():
    	run(webapp, host='localhost', port=8080, quiet=True)
        #app = QApplication(sys.argv)
    	#web = WebApp()
        #web.start()
    	#win = Window()
        #win.show()
        #win.setContextMenuPolicy(Qt.CustomContextMenu);
        #win.connect(win,SIGNAL("customContextMenuRequested(QPoint)"), win,SLOT("ctxMenu(QPoint)"))
    	#sys.exit(app.exec_())

if __name__ == '__main__':
    main()
